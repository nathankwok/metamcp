# MetaMCP Backend Environment Variables - Development
# This file contains environment variables for the backend service
# For development/staging environments

# Node.js Configuration
NODE_ENV: development

# Database Configuration (Cloud SQL)
# Replace these with your actual Cloud SQL connection details
DB_HOST: "/cloudsql/your-project:your-region:your-instance"
DB_PORT: "5432"
DB_NAME: "metamcp_dev"
DB_USER: "metamcp_user"
# DB_PASSWORD should be set via Secret Manager - see secrets/README.md

# Alternative: Use private IP if VPC connector is configured
# DB_HOST: "10.x.x.x"  # Private IP of Cloud SQL instance

# Authentication
# BETTER_AUTH_SECRET should be set via Secret Manager - see secrets/README.md
BETTER_AUTH_URL: "https://your-backend-service-url"

# MCP Server Configuration
MCP_SERVERS_DATA_DIR: "/app/data/mcp-sessions"
MCP_SERVERS_LOG_DIR: "/app/logs"
MCP_SERVER_TIMEOUT: "30000"
MCP_SERVER_MAX_IDLE_TIME: "300000"
MCP_SERVER_POOL_SIZE: "10"

# Redis Configuration (for caching and session management)
# REDIS_URL: "redis://10.x.x.x:6379"  # Use Memorystore instance
# REDIS_PASSWORD should be set via Secret Manager if AUTH is enabled

# Application Settings
LOG_LEVEL: "debug"
ENABLE_REQUEST_LOGGING: "true"
ENABLE_METRICS: "true"
ENABLE_TRACING: "false"

# API Rate Limiting
RATE_LIMIT_WINDOW_MS: "60000"
RATE_LIMIT_MAX_REQUESTS: "1000"
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS: "true"

# Middleware Configuration
ENABLE_CORS: "true"
CORS_ORIGINS: "*"
ENABLE_COMPRESSION: "true"
ENABLE_HELMET: "true"

# Performance Settings
MAX_REQUEST_SIZE: "10mb"
REQUEST_TIMEOUT: "30000"
KEEP_ALIVE_TIMEOUT: "65000"

# Development Features
ENABLE_DEBUG_ENDPOINTS: "true"
ENABLE_HOT_RELOAD: "false"
ENABLE_PLAYGROUND: "true"

# Health Check Configuration
HEALTH_CHECK_INTERVAL: "30000"
HEALTH_CHECK_TIMEOUT: "5000"

# File Upload Configuration
MAX_FILE_SIZE: "50mb"
ALLOWED_FILE_TYPES: "json,yaml,yml,txt,log"

# Feature Flags
ENABLE_MIDDLEWARE_SYSTEM: "true"
ENABLE_INSPECTOR: "true"
ENABLE_NAMESPACE_AUTO_SCALING: "true"
ENABLE_MCP_SERVER_AUTO_RESTART: "true"